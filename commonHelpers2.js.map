{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\")\nconst STORAGE_KEY = \"feedback-form-state\"\n\nlet tank = {\n        email: \"\",\n        message: \"\"\n    }\nform.addEventListener(\"input\", ((event) => {\n    if (event.target.className === \"email-input\") {\n        tank.email = event.target.value.trim()\n    } else {\n        tank.message = event.target.value.trim()\n    }\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tank))\n}))\n\n\nconst emailInput = document.querySelector(\".email-input\")\nconst textArea = document.querySelector(\".textarea\")\n\nconst jsn = localStorage.getItem((\"feedback-form-state\"))\nif (jsn) {\nemailInput.value = JSON.parse(jsn).email\ntextArea.value = JSON.parse(jsn).message\n} else {\n    emailInput.value = \"\"\n    textArea.value = \"\"\n}\n\nconst storedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    if (emailInput.value === '' || textArea.value.trim() === '') {\n        alert('All form fields must be filled in')\n        return\n    }\n    if ((storedData.email && !storedData.message) || (!storedData.email && storedData.message)) {\n        alert('Both form fields must be filled in');\n        return;\n    }\n    console.log(JSON.parse(localStorage.getItem(\"feedback-form-state\")));\n    localStorage.removeItem(\"feedback-form-state\");\n  form.reset();\n});\n"],"names":["form","STORAGE_KEY","tank","event","emailInput","textArea","jsn","storedData"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,sBAEpB,IAAIC,EAAO,CACH,MAAO,GACP,QAAS,EACZ,EACLF,EAAK,iBAAiB,QAAWG,GAAU,CACnCA,EAAM,OAAO,YAAc,cAC3BD,EAAK,MAAQC,EAAM,OAAO,MAAM,KAAM,EAEtCD,EAAK,QAAUC,EAAM,OAAO,MAAM,KAAM,EAE5C,aAAa,QAAQF,EAAa,KAAK,UAAUC,CAAI,CAAC,CAC1D,CAAG,EAGH,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAW,SAAS,cAAc,WAAW,EAE7CC,EAAM,aAAa,QAAS,qBAAuB,EACrDA,GACJF,EAAW,MAAQ,KAAK,MAAME,CAAG,EAAE,MACnCD,EAAS,MAAQ,KAAK,MAAMC,CAAG,EAAE,UAE7BF,EAAW,MAAQ,GACnBC,EAAS,MAAQ,IAGrB,MAAME,EAAa,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,EAC/DD,EAAK,iBAAiB,SAAWG,GAAU,CAEvC,GADAA,EAAM,eAAc,EAChBC,EAAW,QAAU,IAAMC,EAAS,MAAM,KAAM,IAAK,GAAI,CACzD,MAAM,mCAAmC,EACzC,MACH,CACD,GAAKE,EAAW,OAAS,CAACA,EAAW,SAAa,CAACA,EAAW,OAASA,EAAW,QAAU,CACxF,MAAM,oCAAoC,EAC1C,MACH,CACD,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAAC,EACnE,aAAa,WAAW,qBAAqB,EAC/CP,EAAK,MAAK,CACZ,CAAC"}